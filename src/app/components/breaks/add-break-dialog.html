<h1 mat-dialog-title>Создание смены</h1>

<form [formGroup]="breakForm" (submit)="submit()">
    <div mat-dialog-content>
        <div class="form">
            <mat-form-field appearance="fill">
                <mat-label>Дата</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="date" [min]="today">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <mat-slide-toggle formControlName="all_group_members">
                Все участники группы
            </mat-slide-toggle>

            <mat-form-field appearance="fill" *ngIf="!breakForm.value.all_group_members">
                <mat-label>Участники</mat-label>
                <mat-select formControlName="members" multiple>
                    <mat-option *ngFor="let member of membersList" [value]="member.id">
                        {{member?.employee?.user?.full_name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <!-- <mat-form-field>
                <input 
                    matInput
                    name="selected_time_B"
                    format="24"
                    [(ngModel)]="selectedTime"
                    [ngxMatTimepicker]="pickerB"
                    placeholder="16:00"
                    readonly
                />
                <mat-icon 
                    matSuffix
                    (click)="pickerB.open()"
                >
                    watch_later
                </mat-icon>
            </mat-form-field>
            <ngx-mat-timepicker 
                color="accent"
                #pickerB
            ></ngx-mat-timepicker> -->
        </div>
    </div>

    <div mat-dialog-actions>
        <button mat-button mat-dialog-close>Отмена</button>
        <button mat-stroked-button color="primary" type="submit" [disabled]="breakForm.invalid">Создать</button>
    </div>
</form>